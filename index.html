<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ExpenseTracker</title>
    <meta name="description" content="Track expenses with camera capture and P2P sync">
    <meta name="theme-color" content="#2563eb">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Preload critical resources -->
    <link rel="preload" href="css/styles.css" as="style">
    <link rel="preload" href="js/app.js" as="script">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Favicon -->
    <link rel="icon" href="icons/icon-192.png">
</head>
<body>
    <!-- Main App Container -->
    <div id="app">
        <!-- Loading Screen -->
        <div id="loading" class="loading-screen">
            <div class="loading-spinner"></div>
            <p>Loading ExpenseTracker...</p>
        </div>

        <!-- Main Navigation -->
        <nav id="nav" class="bottom-nav hidden">
            <button class="nav-btn active" data-view="home">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                </svg>
                <span>Home</span>
            </button>
            <button class="nav-btn" data-view="add">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 4v16m8-8H4"/>
                </svg>
                <span>Add</span>
            </button>
            <button class="nav-btn" data-view="people">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                <span>People</span>
            </button>
            <button class="nav-btn" data-view="settle">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                </svg>
                <span>Settle</span>
            </button>
            <button class="nav-btn" data-view="sync">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"/>
                </svg>
                <span>Sync</span>
            </button>
        </nav>

        <!-- Views Container -->
        <main id="main-content" class="main-content">
            <!-- Views will be dynamically inserted here -->
        </main>
    </div>

    <!-- Modals Container -->
    <div id="modals" class="modals"></div>

    <!-- Third-party libraries (load first) -->
    <script src="https://unpkg.com/peerjs@1.5.4/dist/peerjs.min.js"></script>

    <!-- JavaScript -->
    <script src="js/db.js" defer></script>
    <script src="js/ui.js" defer></script>
    <script src="js/camera.js" defer></script>
    <script src="js/expenses.js" defer></script>
    <script src="js/people.js" defer></script>
    <script src="js/settlement.js" defer></script>
    <script src="js/sync.js" defer></script>
    <script src="js/app.js" defer></script>
</body>
</html>
