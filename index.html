<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Expense Tracker</title>
    <meta name="description" content="Track shared expenses with friends and family">
    <meta name="theme-color" content="#075e54">
    
    <!-- PWA Meta Tags -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Expenses">
    <meta name="application-name" content="Expense Tracker">
    <meta name="format-detection" content="telephone=no">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" href="./icons/icon-192.png">
    <link rel="apple-touch-icon" href="./icons/icon-192.png">
    
    <!-- Styles -->
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
    <div id="app">
        <!-- Loading Screen -->
        <div id="loading" class="loading-screen">
            <div class="loading-spinner"></div>
            <p>Loading...</p>
        </div>

        <!-- Install Banner -->
        <div id="install-banner" class="install-banner hidden">
            <span>Install app for better experience</span>
            <button id="install-btn" class="install-btn">Install</button>
            <button id="install-dismiss" class="install-dismiss">Ã—</button>
        </div>

        <!-- Bottom Navigation -->
        <nav id="nav" class="bottom-nav hidden">
            <button class="nav-btn active" data-view="home">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
                </svg>
                <span>Expenses</span>
            </button>
            <button class="nav-btn" data-view="people">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
                    <circle cx="9" cy="7" r="4"/>
                    <path d="M23 21v-2a4 4 0 00-3-3.87m-4-12a4 4 0 010 7.75"/>
                </svg>
                <span>People</span>
            </button>
            <button class="nav-btn" data-view="settle">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/>
                </svg>
                <span>Settle</span>
            </button>
            <button class="nav-btn" data-view="sync">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M23 4v6h-6M1 20v-6h6"/>
                    <path d="M3.51 9a9 9 0 0114.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0020.49 15"/>
                </svg>
                <span>Sync</span>
            </button>
            <button class="nav-btn" data-view="settings">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M12.22 2.18a9 9 0 015.6 2.18M21.82 12.22a9 9 0 01-2.18 5.6M12.22 21.82a9 9 0 01-5.6-2.18M2.18 12.22a9 9 0 012.18-5.6"/>
                </svg>
                <span>Settings</span>
            </button>
        </nav>

        <!-- Floating Action Button -->
        <button id="fab-add" class="fab-main hidden" onclick="App.navigateTo('add')">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <path d="M12 5v14M5 12h14"/>
            </svg>
        </button>

        <!-- Main Content -->
        <main id="main-content" class="main-content"></main>
    </div>

    <!-- Modals -->
    <div id="modals" class="modals"></div>

    <!-- PeerJS for sync -->
    <script src="https://unpkg.com/peerjs@1.5.4/dist/peerjs.min.js" defer></script>

    <!-- App Scripts -->
    <script src="./js/db.js" defer></script>
    <script src="./js/accounts.js" defer></script>
    <script src="./js/settings.js" defer></script>
    <script src="./js/ui.js" defer></script>
    <script src="./js/camera.js" defer></script>
    <script src="./js/expenses.js" defer></script>
    <script src="./js/people.js" defer></script>
    <script src="./js/settlement.js" defer></script>
    <script src="./js/sync.js" defer></script>
    <script src="./js/app.js" defer></script>
</body>
</html>
